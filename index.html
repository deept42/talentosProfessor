<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pesquisa de Experi√™ncia ‚Äì Alunos Talentos</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    
    <style>
        /* ==========================================================================
           1. ESTILOS GLOBAIS E VARI√ÅVEIS (CSS PROFISSIONAL)
           ========================================================================== */
        
        :root {
            /* Paleta de Cores Principal (f√°cil de alterar) */
            --color-primary: #006400; /* Verde Principal */
            --color-primary-dark: #004d00;
            --color-text-primary: #333333;
            --color-text-secondary: #555555;
            --color-background-body: #f0f0f0;
            --color-background-container: #ffffff;
            --color-background-alt: #f8f8f8;
            --color-border: #e0e0e0;
            --font-main: 'Poppins', sans-serif;
            
            /* Paleta de Cores para Avalia√ß√µes */
            --color-rating-1: #e74c3c; /* Vermelho */
            --color-rating-2: #e67e22; /* Laranja */
            --color-rating-3: #f1c40f; /* Amarelo */
            --color-rating-4: #a3d900; /* Verde Claro */
            --color-rating-5: #2ecc71; /* Verde */
        }
        
        /* Reset e Configura√ß√µes Globais */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-main);
            background-color: var(--color-background-body);
            color: var(--color-text-primary);
            padding: 20px;
            line-height: 1.6;
        }
        
        /* ==========================================================================
           2. LAYOUT E COMPONENTES
           ========================================================================== */
        
        /* Container Principal */
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: var(--color-background-container);
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        }

        /* Cabe√ßalho */
        .survey-header { text-align: center; border-bottom: 2px solid var(--color-border); padding-bottom: 20px; margin-bottom: 20px; }
        .logo { max-width: 240px; margin-bottom: 20px; }
        .survey-header h1 { color: var(--color-primary); font-size: 2em; font-weight: 700; }
        .survey-header p { font-size: 1.1em; color: var(--color-text-secondary); }
        .anonymous-notice strong { color: var(--color-rating-1); }

        /* Bloco de Instru√ß√µes */
        .instructions { text-align: center; background-color: var(--color-background-alt); padding: 15px; border-radius: 8px; margin-bottom: 30px; }
        .legend { display: flex; flex-wrap: wrap; justify-content: center; gap: 15px; margin-top: 10px; font-size: 0.9em; }
        .legend span { background-color: var(--color-background-container); padding: 5px 10px; border-radius: 20px; border: 1px solid var(--color-border); }
        
        /* Formul√°rio e Se√ß√µes (Fieldset) */
        .survey-form { width: 100%; }
        fieldset { border: none; padding: 0; margin-bottom: 25px; }
        legend { font-size: 1.5em; font-weight: 600; color: var(--color-primary); margin-bottom: 20px; padding-bottom: 5px; border-bottom: 2px solid var(--color-primary); width: 100%; }

        /* Caixas de Perguntas */
        .question-box { background-color: #f9f9f9; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid var(--color-border); }
        .question-box label { display: block; font-weight: 600; margin-bottom: 15px; }
        
        /* Op√ß√µes de Resposta (1-5) */
        .options { display: flex; flex-wrap: wrap; justify-content: space-around; gap: 10px; }
        .options label { cursor: pointer; padding: 10px 15px; border-radius: 8px; border: 1px solid var(--color-border); background-color: var(--color-background-container); transition: transform 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease; font-size: 1.2em; display: flex; align-items: center; gap: 8px; }
        .options label:hover { transform: translateY(-3px); }
        .options label:active { transform: scale(0.95); box-shadow: 0 0 12px rgba(0, 100, 0, 0.5); }
        .options input[type="radio"] { display: none; }
        
        /* Estilos das op√ß√µes selecionadas */
        .options input[value="1"]:checked + label { background-color: var(--color-rating-1); color: white; border-color: transparent; transform: scale(1.05); }
        .options input[value="2"]:checked + label { background-color: var(--color-rating-2); color: white; border-color: transparent; transform: scale(1.05); }
        .options input[value="3"]:checked + label { background-color: var(--color-rating-3); color: var(--color-text-primary); border-color: transparent; transform: scale(1.05); }
        .options input[value="4"]:checked + label { background-color: var(--color-rating-4); color: var(--color-text-primary); border-color: transparent; transform: scale(1.05); }
        .options input[value="5"]:checked + label { background-color: var(--color-rating-5); color: white; border-color: transparent; transform: scale(1.05); }

        /* Campos de Texto (Textarea) */
        textarea { width: 100%; padding: 12px; border: 1px solid var(--color-border); border-radius: 8px; font-family: var(--font-main); font-size: 1em; transition: border-color 0.2s ease, box-shadow 0.2s ease; }
        textarea:focus { outline: none; border-color: var(--color-primary); box-shadow: 0 0 5px rgba(0, 100, 0, 0.5); }

        /* Bot√£o de Envio */
        .submit-btn { display: flex; align-items: center; justify-content: center; gap: 10px; width: 100%; padding: 15px; font-size: 1.2em; font-weight: 600; color: white; background-color: #25D366; border: none; border-radius: 8px; cursor: pointer; transition: background-color 0.2s; margin-top: 20px; }
        .submit-btn:hover { background-color: #1DA851; }
        
        /* Rodap√© */
        .survey-footer { text-align: center; margin-top: 30px; color: #888; font-size: 0.9em; }
        
        /* ==========================================================================
           3. RESPONSIVIDADE (Mobile-First)
           ========================================================================== */
        
        @media (max-width: 600px) {
            body { padding: 10px; }
            .container { padding: 20px; }
            .survey-header h1 { font-size: 1.5em; }
            .legend { flex-direction: column; align-items: center; }
            .options { justify-content: center; }
        }
    </style>
</head>
<body>
    <main class="container">
        <header class="survey-header">
            <img src="https://talentosbrasil.com.br/img/logotipo/logotipo.png" alt="Logotipo Talentos" class="logo">
            <h1>Pesquisa de Experi√™ncia e Aprendizado ‚Äì Alunos Talentos</h1>
            <p>Ol√°! A sua opini√£o √© muito importante para n√≥s. Queremos saber como est√° a ser a sua experi√™ncia na Talentos para podermos melhorar cada vez mais.</p>
            <p class="anonymous-notice"><strong>As suas respostas s√£o an√≥nimas!</strong></p>
        </header>

        <section class="instructions">
            <p>Para cada pergunta, escolha a nota que melhor representa a sua opini√£o, usando os emojis como guia:</p>
            <div class="legend">
                <span><strong>1</strong> = üòû (P√©ssimo / Nunca)</span>
                <span><strong>2</strong> = üôÅ (Ruim / Pouco)</span>
                <span><strong>3</strong> = üòê (Regular / √Äs vezes)</span>
                <span><strong>4</strong> = üôÇ (Bom / Quase Sempre)</span>
                <span><strong>5</strong> = üòÑ (Excelente / Sempre)</span>
            </div>
        </section>

        <form id="survey-form" class="survey-form" novalidate>
            <fieldset>
                <legend>Parte 1: Sobre o seu Aprendizado</legend>
                <div class="question-box">
                    <label>Sinto que estou realmente a aprender e a evoluir nas mat√©rias.</label>
                    <div class="options">
                        <label><input type="radio" name="aprendizado_evolucao" value="1" required> üòû 1</label>
                        <label><input type="radio" name="aprendizado_evolucao" value="2"> üôÅ 2</label>
                        <label><input type="radio" name="aprendizado_evolucao" value="3"> üòê 3</label>
                        <label><input type="radio" name="aprendizado_evolucao" value="4"> üôÇ 4</label>
                        <label><input type="radio" name="aprendizado_evolucao" value="5"> üòÑ 5</label>
                    </div>
                </div>
                <div class="question-box">
                    <label>Consigo entender bem as explica√ß√µes dos professores na sala de aula.</label>
                    <div class="options">
                        <label><input type="radio" name="entendimento_explicacoes" value="1" required> üòû 1</label>
                        <label><input type="radio" name="entendimento_explicacoes" value="2"> üôÅ 2</label>
                        <label><input type="radio" name="entendimento_explicacoes" value="3"> üòê 3</label>
                        <label><input type="radio" name="entendimento_explicacoes" value="4"> üôÇ 4</label>
                        <label><input type="radio" name="entendimento_explicacoes" value="5"> üòÑ 5</label>
                    </div>
                </div>
                <div class="question-box">
                    <label>As tarefas e os trabalhos de casa ajudam-me a entender melhor o conte√∫do.</label>
                    <div class="options">
                        <label><input type="radio" name="ajuda_tarefas" value="1" required> üòû 1</label>
                        <label><input type="radio" name="ajuda_tarefas" value="2"> üôÅ 2</label>
                        <label><input type="radio" name="ajuda_tarefas" value="3"> üòê 3</label>
                        <label><input type="radio" name="ajuda_tarefas" value="4"> üôÇ 4</label>
                        <label><input type="radio" name="ajuda_tarefas" value="5"> üòÑ 5</label>
                    </div>
                </div>
                <div class="question-box">
                    <label>Acho que as provas e avalia√ß√µes s√£o justas e mostram o que eu aprendi.</label>
                    <div class="options">
                        <label><input type="radio" name="avaliacoes_justas" value="1" required> üòû 1</label>
                        <label><input type="radio" name="avaliacoes_justas" value="2"> üôÅ 2</label>
                        <label><input type="radio" name="avaliacoes_justas" value="3"> üòê 3</label>
                        <label><input type="radio" name="avaliacoes_justas" value="4"> üôÇ 4</label>
                        <label><input type="radio" name="avaliacoes_justas" value="5"> üòÑ 5</label>
                    </div>
                </div>
            </fieldset>

            <fieldset>
                <legend>Parte 2: Sobre as Aulas e os Professores</legend>
                 <div class="question-box">
                    <label>As aulas s√£o interessantes e prendem a minha aten√ß√£o.</label>
                    <div class="options">
                        <label><input type="radio" name="aulas_interessantes" value="1" required> üòû 1</label>
                        <label><input type="radio" name="aulas_interessantes" value="2"> üôÅ 2</label>
                        <label><input type="radio" name="aulas_interessantes" value="3"> üòê 3</label>
                        <label><input type="radio" name="aulas_interessantes" value="4"> üôÇ 4</label>
                        <label><input type="radio" name="aulas_interessantes" value="5"> üòÑ 5</label>
                    </div>
                </div>
                <div class="question-box">
                    <label>Sinto-me √† vontade para fazer perguntas e tirar d√∫vidas com os professores.</label>
                    <div class="options">
                        <label><input type="radio" name="tirar_duvidas" value="1" required> üòû 1</label>
                        <label><input type="radio" name="tirar_duvidas" value="2"> üôÅ 2</label>
                        <label><input type="radio" name="tirar_duvidas" value="3"> üòê 3</label>
                        <label><input type="radio" name="tirar_duvidas" value="4"> üôÇ 4</label>
                        <label><input type="radio" name="tirar_duvidas" value="5"> üòÑ 5</label>
                    </div>
                </div>
                <div class="question-box">
                    <label>Sinto que os professores se importam de verdade se eu estou a aprender.</label>
                    <div class="options">
                        <label><input type="radio" name="professores_se_importam" value="1" required> üòû 1</label>
                        <label><input type="radio" name="professores_se_importam" value="2"> üôÅ 2</label>
                        <label><input type="radio" name="professores_se_importam" value="3"> üòê 3</label>
                        <label><input type="radio" name="professores_se_importam" value="4"> üôÇ 4</label>
                        <label><input type="radio" name="professores_se_importam" value="5"> üòÑ 5</label>
                    </div>
                </div>
            </fieldset>

            <fieldset>
                <legend>Parte 3: Sobre o Ambiente da Talentos</legend>
                <div class="question-box">
                    <label>Eu gosto de vir para a Talentos.</label>
                    <div class="options">
                        <label><input type="radio" name="gosta_de_vir" value="1" required> üòû 1</label>
                        <label><input type="radio" name="gosta_de_vir" value="2"> üôÅ 2</label>
                        <label><input type="radio" name="gosta_de_vir" value="3"> üòê 3</label>
                        <label><input type="radio" name="gosta_de_vir" value="4"> üôÇ 4</label>
                        <label><input type="radio" name="gosta_de_vir" value="5"> üòÑ 5</label>
                    </div>
                </div>
                <div class="question-box">
                    <label>Sinto-me seguro(a) e respeitado(a) por colegas e funcion√°rios.</label>
                    <div class="options">
                        <label><input type="radio" name="seguranca_respeito" value="1" required> üòû 1</label>
                        <label><input type="radio" name="seguranca_respeito" value="2"> üôÅ 2</label>
                        <label><input type="radio" name="seguranca_respeito" value="3"> üòê 3</label>
                        <label><input type="radio" name="seguranca_respeito" value="4"> üôÇ 4</label>
                        <label><input type="radio" name="seguranca_respeito" value="5"> üòÑ 5</label>
                    </div>
                </div>
                <div class="question-box">
                    <label>A estrutura da escola (salas, p√°tio, biblioteca) √© boa e bem cuidada.</label>
                    <div class="options">
                        <label><input type="radio" name="estrutura_escola" value="1" required> üòû 1</label>
                        <label><input type="radio" name="estrutura_escola" value="2"> üôÅ 2</label>
                        <label><input type="radio" name="estrutura_escola" value="3"> üòê 3</label>
                        <label><input type="radio" name="estrutura_escola" value="4"> üôÇ 4</label>
                        <label><input type="radio" name="estrutura_escola" value="5"> üòÑ 5</label>
                    </div>
                </div>
            </fieldset>
            
            <fieldset>
                <legend>Parte 4: Suas Ideias (As mais importantes!)</legend>
                <div class="question-box">
                    <label for="melhor">O que a Talentos faz de MELHOR e que n√£o deveria mudar?</label>
                    <textarea id="melhor" name="o_que_faz_melhor" rows="4" placeholder="Escreva a sua resposta aqui..."></textarea>
                </div>
                <div class="question-box">
                    <label for="mudar">Se pudesse mudar UMA COISA para a Talentos ficar ainda melhor, o que seria?</label>
                    <textarea id="mudar" name="o_que_mudar" rows="4" placeholder="Escreva a sua resposta aqui..."></textarea>
                </div>
                <div class="question-box">
                    <label for="sugestoes">Deixe aqui qualquer outra sugest√£o ou coment√°rio que queira fazer:</label>
                    <textarea id="sugestoes" name="outras_sugestoes" rows="4" placeholder="Escreva a sua resposta aqui..."></textarea>
                </div>
            </fieldset>

            <button type="submit" class="submit-btn">
                <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24" fill="white"><path d="M0 0h24v24H0z" fill="none"/><path d="M.01 21 23 12 .01 3 0 10l15 2-15 2z"/></svg>
                Enviar via WhatsApp
            </button>
        </form>

        <footer class="survey-footer">
            <p>&copy; 2025 Talentos. Todos os direitos reservados.</p>
        </footer>
    </main>

    <script>
        // Executa o script apenas quando o conte√∫do da p√°gina estiver totalmente carregado.
        document.addEventListener('DOMContentLoaded', () => {

            const surveyForm = document.getElementById('survey-form');
            if (!surveyForm) return; // Encerra se o formul√°rio n√£o for encontrado

            // ===================================================================
            // CONFIGURA√á√ÉO PRINCIPAL - ALTERE AQUI
            // ===================================================================
            // IMPORTANTE: O n√∫mero precisa estar no formato internacional completo:
            // 55 (c√≥digo do pa√≠s) + XX (DDD) + N√öMERO (tudo junto, sem espa√ßos ou s√≠mbolos).
            // Exemplo para Paranagu√° (DDD 41): '554134231010'
            const WHATSAPP_PHONE_NUMBER = '55XX34231010'; 
            // ===================================================================

            const EMOJI_MAP = {
                '1': 'üòû (P√©ssimo / Nunca)',
                '2': 'üôÅ (Ruim / Pouco)',
                '3': 'üòê (Regular / √Äs vezes)',
                '4': 'üôÇ (Bom / Quase Sempre)',
                '5': 'üòÑ (Excelente / Sempre)'
            };
            
            /**
             * Fun√ß√£o principal que lida com o evento de submiss√£o do formul√°rio.
             * @param {Event} event O objeto do evento de submiss√£o.
             */
            const handleFormSubmit = (event) => {
                event.preventDefault(); // Previne o recarregamento da p√°gina

                const formData = getSurveyData(surveyForm);

                if (!formData) {
                    alert('Por favor, responda a todas as perguntas obrigat√≥rias (de 1 a 5) antes de enviar.');
                    return;
                }

                const whatsappMessage = formatWhatsappMessage(formData);
                const encodedMessage = encodeURIComponent(whatsappMessage);
                const whatsappLink = `https://wa.me/${WHATSAPP_PHONE_NUMBER}?text=${encodedMessage}`;
                
                window.open(whatsappLink, '_blank');
            };

            /**
             * Extrai os dados do formul√°rio e valida as respostas obrigat√≥rias.
             * @param {HTMLFormElement} formElement O elemento do formul√°rio.
             * @returns {Object|null} Um objeto com os dados ou null se a valida√ß√£o falhar.
             */
            const getSurveyData = (formElement) => {
                const formData = new FormData(formElement);
                const data = {};
                let isValid = true;

                // Converte FormData para um objeto simples
                for (const [key, value] of formData.entries()) {
                    data[key] = value;
                }

                // Valida se todas as perguntas de r√°dio (obrigat√≥rias) foram respondidas
                const requiredQuestions = formElement.querySelectorAll('input[type="radio"][required]');
                const questionGroups = new Set(Array.from(requiredQuestions, q => q.name));

                for (const groupName of questionGroups) {
                    if (!data[groupName]) {
                        isValid = false;
                        break;
                    }
                }

                return isValid ? data : null;
            };

            /**
             * Formata os dados da pesquisa numa mensagem de texto para o WhatsApp.
             * @param {Object} data O objeto com os dados da pesquisa.
             * @returns {string} A mensagem formatada.
             */
            const formatWhatsappMessage = (data) => {
                const getAnswer = (key) => EMOJI_MAP[data[key]] || 'N√£o respondido';

                let message = `üìù *Pesquisa de Experi√™ncia e Aprendizado ‚Äì Alunos Talentos*\n\n`;

                message += `*üìö Sobre o meu Aprendizado*\n`;
                message += `- Sinto que estou evoluindo: *${getAnswer('aprendizado_evolucao')}*\n`;
                message += `- Entendo as explica√ß√µes: *${getAnswer('entendimento_explicacoes')}*\n`;
                message += `- As tarefas ajudam: *${getAnswer('ajuda_tarefas')}*\n`;
                message += `- As avalia√ß√µes s√£o justas: *${getAnswer('avaliacoes_justas')}*\n\n`;

                message += `*üë®‚Äçüè´ Sobre as Aulas e os Professores*\n`;
                message += `- As aulas s√£o interessantes: *${getAnswer('aulas_interessantes')}*\n`;
                message += `- Sinto-me √† vontade para tirar d√∫vidas: *${getAnswer('tirar_duvidas')}*\n`;
                message += `- Sinto que os professores se importam: *${getAnswer('professores_se_importam')}*\n\n`;

                message += `*üè´ Sobre o Ambiente da Talentos*\n`;
                message += `- Gosto de vir para a Talentos: *${getAnswer('gosta_de_vir')}*\n`;
                message += `- Sinto-me seguro e respeitado: *${getAnswer('seguranca_respeito')}*\n`;
                message += `- A estrutura √© boa: *${getAnswer('estrutura_escola')}*\n\n`;

                message += `*üí° Minhas Ideias*\n`;
                message += `*O que a Talentos faz de MELHOR?*\n${data['o_que_faz_melhor'] || 'N√£o preenchido'}\n\n`;
                message += `*O que poderia MELHORAR?*\n${data['o_que_mudar'] || 'N√£o preenchido'}\n\n`;
                message += `*Outras sugest√µes:*\n${data['outras_sugestoes'] || 'N√£o preenchido'}\n`;

                return message;
            };

            // Adiciona o listener de evento ao formul√°rio
            surveyForm.addEventListener('submit', handleFormSubmit);
        });
    </script>
</body>
</html>